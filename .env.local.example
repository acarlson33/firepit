# ==============================================================================
# Firepit Environment Configuration
# ==============================================================================
# Copy this file to .env.local and fill in your values.
# See DEPLOYMENT.md for detailed setup instructions.
#
# Quick Start:
# 1. Create an Appwrite project: https://appwrite.io
# 2. Generate an API key with full permissions
# 3. Fill in REQUIRED variables below
# 4. Run: bun run setup
# 5. Run: bun dev
#
# IMPORTANT: For deployed environments (Vercel, Appwrite, etc.):
# These environment variables are automatically exposed at runtime through
# next.config.ts. Simply set them in your deployment platform's environment
# settings and redeploy. No NEXT_PUBLIC_ prefix needed - they remain secure
# and server-side only.
# ==============================================================================

# ==============================================================================
# REQUIRED: Appwrite Connection
# ==============================================================================
# Get these from your Appwrite Console dashboard

# Your Appwrite instance URL
# Cloud: https://nyc.cloud.appwrite.io/v1 (or eu/sgp region)
# Self-hosted: https://your-domain.com/v1
APPWRITE_ENDPOINT=https://nyc.cloud.appwrite.io/v1

# Your Project ID from Appwrite Console
# Find this in: Appwrite Console > [Your Project] > Settings
APPWRITE_PROJECT_ID=your-project-id-here

# API Key for server-side operations and setup script
# Generate in: Appwrite Console > Settings > API Keys
# Required Scopes: databases.*, collections.*, attributes.*, indexes.*, teams.*
APPWRITE_API_KEY=your-api-key-here

# ==============================================================================
# OPTIONAL: Database & Collection IDs
# ==============================================================================
# The setup script (bun run setup) will create these automatically.
# Only change these if you want to use different names or have existing collections.
# Default values below work out of the box - no need to change!

# Main database name
APPWRITE_DATABASE_ID=main

# Core chat collections
APPWRITE_SERVERS_COLLECTION_ID=servers
APPWRITE_CHANNELS_COLLECTION_ID=channels
APPWRITE_MESSAGES_COLLECTION_ID=messages
APPWRITE_MEMBERSHIPS_COLLECTION_ID=memberships
APPWRITE_TYPING_COLLECTION_ID=typing

# User profiles and avatars
APPWRITE_PROFILES_COLLECTION_ID=profiles
APPWRITE_AVATARS_BUCKET_ID=avatars

# Custom emojis
APPWRITE_EMOJIS_BUCKET_ID=emojis

# Direct messages and status features (optional)
APPWRITE_CONVERSATIONS_COLLECTION_ID=conversations
APPWRITE_DIRECT_MESSAGES_COLLECTION_ID=direct_messages
APPWRITE_STATUSES_COLLECTION_ID=statuses

# Moderation and audit (optional)
APPWRITE_AUDIT_COLLECTION_ID=audit

# ==============================================================================
# OPTIONAL: Admin & Moderator Configuration
# ==============================================================================
# Two ways to grant admin/moderator access:
# 1. USER ID BOOTSTRAP (before teams exist) - Use APPWRITE_ADMIN_USER_IDS
# 2. TEAM MEMBERSHIP (after setup script) - Use APPWRITE_ADMIN_TEAM_ID

# --- METHOD 1: User ID Bootstrap ---
# Best for: Initial setup, granting yourself admin access
# How to get your user ID:
#   1. Create account in the app
#   2. Visit: http://localhost:3000/api/me
#   3. Copy the "$id" value
#   4. Add it here (comma-separated for multiple users)
APPWRITE_ADMIN_USER_IDS=
APPWRITE_MODERATOR_USER_IDS=

# --- METHOD 2: Team-Based Access ---
# Best for: Production, managing multiple admins/moderators
# The setup script creates "Admins" and "Moderators" teams automatically.
# After running setup, add users to teams via Appwrite Console > Auth > Teams
# Then set the team IDs here (find in Appwrite Console):
APPWRITE_ADMIN_TEAM_ID=
APPWRITE_MODERATOR_TEAM_ID=

# ==============================================================================
# OPTIONAL: Server Configuration
# ==============================================================================
# Public URL of your application (for OAuth redirects, etc.)
SERVER_URL=http://localhost:3000

# ==============================================================================
# OPTIONAL: New Relic APM (Application Performance Monitoring)
# ==============================================================================
# Configure New Relic for application monitoring and log ingestion.
# These are server-side only (no NEXT_PUBLIC prefix needed).
# Get these from your New Relic account: https://newrelic.com

# Your New Relic license key
# Find in: New Relic > Account Settings > API Keys > License Keys
NEW_RELIC_LICENSE_KEY=

# Application name as it appears in New Relic
# Example: firepit-production, firepit-staging, etc.
NEW_RELIC_APP_NAME=

# ==============================================================================
# DEVELOPMENT ONLY
# ==============================================================================
# Skip team creation during setup (useful for testing)
# SKIP_TEAMS=false
